<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Account Manager - Quáº£n lÃ½ tÃ i khoáº£n báº±ng AI</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>ğŸ“Š Quáº£n lÃ½</h2>
            </div>
            
            <div class="stats-section">
                <h3>Thá»‘ng kÃª</h3>
                <div class="stat-card">
                    <div class="stat-label">Tá»•ng tÃ i khoáº£n</div>
                    <div class="stat-value" id="totalAccounts">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ÄÃ£ bÃ¡n</div>
                    <div class="stat-value" id="soldAccounts">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ÄÃ£ thanh toÃ¡n</div>
                    <div class="stat-value" id="paidAccounts">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ChÆ°a thanh toÃ¡n</div>
                    <div class="stat-value" id="unpaidAccounts">0</div>
                </div>
            </div>

            <div class="action-section">
                <h3>Thao tÃ¡c nhanh</h3>
                <button onclick="showAllAccounts()">ğŸ“‹ Xem táº¥t cáº£ tÃ i khoáº£n</button>
                <button onclick="showUnpaidCustomers()">ğŸ’° KhÃ¡ch chÆ°a thanh toÃ¡n</button>
                <button onclick="exportData()">ğŸ’¾ Xuáº¥t dá»¯ liá»‡u</button>
                <button onclick="importData()">ğŸ“¥ Nháº­p dá»¯ liá»‡u</button>
                <button onclick="clearChat()">ğŸ—‘ï¸ XÃ³a chat</button>
            </div>

            <div class="api-section">
                <h3>ğŸ¤– CÃ i Ä‘áº·t AI</h3>
                
                <label>Chá»n AI Provider:</label>
                <select id="aiProvider" onchange="updateAIProviderInfo()">
                    <option value="groq">Groq (KhuyÃªn dÃ¹ng - Nhanh & Miá»…n phÃ­)</option>
                    <option value="gemini">Google Gemini</option>
                </select>
                
                <div id="geminiModelSelector" style="display: none; margin-top: 10px;">
                    <label>Chá»n Gemini Model:</label>
                    <select id="geminiModel" onchange="updateAIProviderInfo()">
                        <option value="gemini-2.5-flash">Gemini 2.5 Flash (Nhanh, Ä‘a nÄƒng)</option>
                        <option value="gemini-2.5-pro">Gemini 2.5 Pro (Máº¡nh hÆ¡n, cháº­m hÆ¡n)</option>
                    </select>
                </div>
                
                <div id="aiProviderInfo" style="padding: 10px; background: #34495e; border-radius: 6px; margin: 10px 0; font-size: 11px; line-height: 1.5;">
                </div>
                
                <label>API Key:</label>
                <input type="password" id="apiKey" placeholder="Nháº­p API Key..." />
                <button onclick="saveApiKey()">LÆ°u API Key</button>

                <hr style="margin: 20px 0; border-color: #34495e;">

                <h4>â˜ï¸ LÆ°u trá»¯ Ä‘Ã¡m mÃ¢y (TÃ¹y chá»n)</h4>
                <p class="storage-status">
                    Tráº¡ng thÃ¡i: <span id="storageStatus">ğŸ’¾ Local Storage</span>
                </p>
                
                <label>Google Sheets ID:</label>
                <input type="text" id="spreadsheetId" placeholder="ID cá»§a Google Sheet..." />
                <button onclick="saveSpreadsheetId()">LÆ°u Sheet ID</button>
                
                <button onclick="toggleCloudStorage()" style="background: #9b59b6; margin-top: 10px;">
                    Báº­t/Táº¯t Cloud Storage
                </button>
                
                <p class="api-note">
                    ğŸ“š <a href="#" onclick="showCloudSetupGuide(); return false;">
                        HÆ°á»›ng dáº«n setup Google Sheets
                    </a>
                </p>
            </div>
        </div>

        <div class="main-content">
            <div class="chat-header">
                <h1>ğŸ’¬ Chat vá»›i AI Assistant</h1>
                <p>Quáº£n lÃ½ tÃ i khoáº£n thÃ´ng minh - Há»— trá»£ text vÃ  hÃ¬nh áº£nh</p>
            </div>

            <div class="chat-container" id="chatContainer">
                <div class="message ai-message">
                    <div class="message-content">
                        <strong>ğŸ¤– AI Assistant</strong>
                        <p class="msg-text">Xin chÃ o! TÃ´i lÃ  trá»£ lÃ½ AI giÃºp báº¡n quáº£n lÃ½ tÃ i khoáº£n. Báº¡n cÃ³ thá»ƒ:

ğŸ“ ThÃªm tÃ i khoáº£n: "ThÃªm tÃ i khoáº£n email@example.com giÃ¡ 50k"
ğŸ‘¤ ThÃªm khÃ¡ch hÃ ng: "BÃ¡n cho khÃ¡ch Zalo: Nguyá»…n VÄƒn A"
ğŸ’° Thanh toÃ¡n: "KhÃ¡ch A Ä‘Ã£ thanh toÃ¡n"
ğŸ“Š Thá»‘ng kÃª: "Thá»‘ng kÃª tÃ i khoáº£n"
ğŸ–¼ï¸ Gá»­i áº£nh Ä‘á»ƒ AI tá»± Ä‘á»™ng nháº­n diá»‡n

âŒ¨ï¸ Máº¹o: Enter Ä‘á»ƒ gá»­i, Shift+Enter Ä‘á»ƒ xuá»‘ng dÃ²ng</p>
                    </div>
                </div>
            </div>

            <div class="input-container">
                <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="handleImageSelect(event)">
                <button class="attach-btn" onclick="document.getElementById('imageInput').click()">
                    ğŸ“
                </button>
                <textarea 
                    id="messageInput" 
                    rows="1"
                    placeholder="Nháº­p tin nháº¯n (Shift+Enter: xuá»‘ng dÃ²ng, Enter: gá»­i)..." 
                    onkeydown="handleKeyPress(event)"
                ></textarea>
                <button onclick="sendMessage()">Gá»­i</button>
            </div>

            <div id="imagePreview" class="image-preview" style="display: none;">
                <img id="previewImg" src="" alt="Preview">
                <button onclick="removeImage()">âŒ</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
